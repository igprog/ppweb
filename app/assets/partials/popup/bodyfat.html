<md-dialog flex>
    <form ng-cloak>
        <md-toolbar class="main-background">
            <div class="md-toolbar-tools">
                <h2 class="text-capitalize">{{'body fat calculator' | translate}}</h2>
                <span flex></span>
                <a href="" class="btn btn-primary" ng-click="cancel()" title="{{'close' | translate}}">x</a>
            </div>
        </md-toolbar>
        <md-dialog-content>
            <div class="md-dialog-content">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="mt10">
                            <md-input-container class="md-block" flex-gt-xs style="margin-top:0px">
                                <label>{{'method' | translate}}</label>
                                <md-select ng-model="method">
                                    <md-option ng-value="x.code" ng-repeat="x in d.methods track by $index" ng-click="setMethod(x)">
                                        <md-checkbox ng-checked="x.code===d.data.code" class="md-primary" aria-label="bodyfat">
                                            <span>{{x.title | translate}}</span>
                                            <span ng-if="x.description">
                                                <br />{{x.description | translate}}
                                            </span>
                                        </md-checkbox>
                                    </md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                        <div ng-if="d.description" class="text-primary">
                            <em>{{d.description | translate}}</em>
                        </div>
                        <table>
                            <tr ng-repeat="x in d.data.measurements | filter:{isSelected:true}">
                                <td class="p5">{{x.title | translate}}:</td>
                                <td class="p5">
                                    <div class="input-group">
                                        <input ng-model="x.value" class="form-control" style="width:75px" allow-only-numbers>
                                        <span class="input-group-addon" style="width:50px">mm</span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <hr />
                        <div class="text-right">
                            <button class="btn btn-default" ng-click="calculate(d.data)"><i class="fa fa-calculator"></i> {{'calculate' | translate}}</button>
                        </div>
                        <div ng-if="bodyMass>0" class="text-primary" style="font-size:24px">
                            <label>{{'body fat' | translate}}: {{bodyMass}} %</label>
                        </div>
                    </div>
                    <div class="col-sm-8">
                        <ng-include src="svg"></ng-include>
                    </div>
                </div>
                <div class="text-right">
                    <button class="btn btn-default" ng-click="confirm(bodyMass)"><i class="fa fa-check"></i> {{'confirm' | translate}}</button>
                </div>
                <json-directive data="d.data" desc="'d.data'"></json-directive>
            </div>
        </md-dialog-content>
    </form>
</md-dialog>

<script type="text/ng-template" id="manSvg">
    <svg width="450" height="450" xmlns="http://www.w3.org/2000/svg">
        <g>
            <title>background</title>
            <rect fill="none" id="canvas_background" height="402" width="582" y="-1" x="-1" />
        </g>
        <g>
            <title>Layer 1</title>
            <g id="svg_1" stroke-width="1.25" stroke="#000" fill-rule="evenodd">
                <path id="svg_2" stroke-linejoin="round" fill="#f0f0f0" d="m222.544002,46.312c2.8791,5.7583 1.2413,10.696 0.52147,16.454c-7.4748,6.9985 -31.078,3.5038 -34.891,9.753c-7.947,12.037 -32.768,47.871 -33.012,58.775c0.29166,9.586 20.009,44.252 31.402,56.013c2.7118,0.59917 7.0192,1.0313 8.7411,-0.38623c0.89876,-4.9346 1.1658,-8.9012 2.2091,-12.63c-1.4452,-0.84694 -3.1717,-0.18718 -5.2627,-0.06306c-5.7904,-7.0345 -11.969,-33.653 -13.056,-40.274c5.2664,-9.5214 8.7857,-21.777 17.701,-35.798c2.4781,18.588 7.9063,47.883 5.5623,58.893c-19.574,42.67 3.0375,130.68 3.6219,146.86c-6.4499,30.651 9.2797,90.593 9.6784,96.152c-0.42813,5.1455 -3.4908,8.9397 -1.5456,12.125c-2.6022,11.04 -4.4962,15.028 -2.3368,21.506s17.766,8.094 20.767,4.0964c0.93384,-6.0646 -0.60759,-21.373 -2.7669,-24.253c1.1479,-2.4657 2.5413,-11.11 0.19728,-18.521c-2.7574,-9.4789 5.8245,-63.068 -0.7753,-78.043c0.84153,-3.3996 2.1728,-14.491 2.1875,-19.438c-0.80453,-2.9757 0.47952,-35.1 2,-60.188c1.5264,25.115 2.8068,57.422 2,60.406c-2.8791,2.8791 0.5181,18.513 2.5998,21.499c-2.0523,6.2934 3.2234,66.502 7.4939,73.501c-2.344,7.4119 0.28959,14.816 1.4375,17.281c-2.1594,2.8791 -4.5276,19.842 -3.5938,25.906c3.0009,3.9976 19.434,0.72804 21.594,-5.75s-0.98014,-8.3972 -3.5823,-19.438c1.9453,-3.1855 -0.73421,-10.698 -1.1623,-15.844c0.3987,-5.5589 8.7182,-58.481 2.2683,-89.957c-1.065,-14.527 25.839,-107.34 3.9025,-147.96c0.90347,-12.099 -0.4364,-42.534 2.1511,-60.034c-0.71979,6.478 2.5201,48.078 7.204,60.421c-3.1708,15.237 1.748,57.894 -1.1311,62.213c-1.2297,5.1434 -1.4113,13.638 -1.9444,20.156c3.5989,-2.1594 3.0429,-4.5915 5.2317,-3.1814c2.6022,5.1308 -5.809,10.99 -5.8384,15.537c5.7583,0 16.487,-7.2189 12.338,-31.381c-0.01472,-9.693 15.981,-62.048 8.2958,-75.018c2.6504,-8.4233 -3.7658,-60.692 -8.819,-71.075c-3.813,-6.2493 -28.002,-3.814 -35.477,-10.812c-0.71979,-5.7583 -3.5979,-11.523 -0.71875,-17.281c6.4781,-9.3572 6.7095,-40.117 -11.312,-40.281c-23.263,0.01308 -20.358,30.705 -13.88,40.062l-0.0003,-0.00271z" />
                <path id="svg_3" fill="#808080" d="m233.861002,3.6875c-7.44,0.33112 -14.887,5.3164 -18.031,16.938c0.47791,-0.23896 0.89418,0.12107 1.5401,-0.06011c-0.65696,2.6897 -0.27646,5.5713 -0.27646,5.5713s1.0541,-0.40413 1.8614,-0.47996c-0.29179,-0.72947 0.07876,-3.8219 0.60257,-5.5914c9.2479,-2.9766 24.176,-3.3585 29.96,0.59136c1.3326,2.4044 1.0761,6.5947 1.0761,7.0441c0.50766,-0.25909 1.2996,0.36666 1.6803,-0.04411c0,-0.79001 0.18582,-3.6465 -0.46397,-6.3213c0.44184,0.08486 1.3865,0.50969 1.6875,0.58493c-0.35156,-10.723 -10.071,-18.658 -19.636,-18.232l-0.00054,-0.00081z" />
            </g>
            <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_5" y2="134.453125" x2="56.5" y1="131.453125" x1="218.5" stroke-width="1.5" stroke="#000" fill="none" />
            <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_6" y2="182.453125" x2="389.5" y1="183.453125" x1="261.5" stroke-width="1.5" stroke="#000" fill="none" />
            <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_7" y2="261.453125" x2="71.5" y1="259.453125" x1="217.5" stroke-width="1.5" stroke="#000" fill="none" />
            <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_8" y2="469.453125" x2="-94.5" y1="468.453125" x1="-94.5" stroke-width="1.5" stroke="#000" fill="none" />
            <text stroke="#000" transform="matrix(1.244128566568918,0,0,1,-71.88626635204047,0) " xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="svg_9" y="123.453125" x="105.5" stroke-width="0" fill="#000000" />
            <input type="text" />
            <text ng-if="d.data.measurements[0].isSelected" stroke="#000" transform="matrix(1.2386312471792849,0,0,1,-50.304964581346894,0) " xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="svg_10" y="115.453125" x="88.5" fill-opacity="null" stroke-opacity="null" stroke-width="0" fill="#000000">
                {{d.data.measurements[0].title}}
            </text>
            <text xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="svg_11" y="161.453125" x="364.5" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">a2</text>
            <text xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="svg_12" y="238.453125" x="66.5" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">a3</text>
        </g>
    </svg>
</script>

<script type="text/ng-template" id="womanSvg">
    <?xml version="1.0" encoding="UTF-8" ?>
    <svg width="450" height="450" viewBox="0 0 175 450" xmlns="http://www.w3.org/2000/svg">
        <path d="m80.464 50.062c2.8791 5.7583 1.2413 10.696 0.52147 16.454-7.4748 6.9985-25.394 2.0828-29.207 8.3321-7.947 12.037-38.452 49.292-38.696 60.196 0.29166 9.586 20.009 44.252 31.402 56.013 2.7118 0.59917 6.1945 1.0313 7.9164-0.38623 2.342-6.1717 1.7843-5.6597 3.8585-14.336-1.4452-2.4792-2.3641 2.0636-6.0874 1.6436-5.7904-7.0345-16.866-34.741-17.953-41.362 5.2664-9.5214 16.998-20.689 25.913-34.71 7.15 11.542-8.0105 16.288 4.8906 24.283 1.225 11.296 2.3367 29.649 1.1647 35.154-30.456 39.949 0.87827 133.85 1.875 146.31-8.5116 29.001 8.0426 89.356 8.4413 94.915-0.42813 5.1455-3.4908 9.7644-1.5456 12.95-2.6022 11.04-5.3208 15.44-3.1615 21.918s17.766 8.094 20.767 4.0964c0.93384-6.0646-0.60759-21.373-2.7669-24.253 1.1479-2.4657 2.5413-11.11 0.19728-18.521-2.7574-9.4789 5.8245-63.068-0.7753-78.043 0.84153-3.3996 2.1728-14.491 2.1875-19.438-0.80453-2.9757 0.47952-35.1 2-60.188 1.5264 25.115 2.8068 57.422 2 60.406-2.8791 2.8791 0.10575 16.451 2.1875 19.438-2.0523 6.2934 3.6357 68.564 7.9062 75.562-2.344 7.4119 0.28959 14.816 1.4375 17.281-2.1594 2.8791-4.5276 19.842-3.5938 25.906 3.0009 3.9976 19.434 0.72804 21.594-5.75s-3.8666-8.3972-6.4688-19.438c1.9453-3.1855-0.32187-10.698-0.75-15.844 0.3987-5.5589 9.5429-61.78 1.0312-90.781 0.99673-12.465 29.023-107.6 1.875-146.31-1.172-5.5054 0.05215-26.905 1.6389-38.2 9.9631-4.696-2.0481-13.757 4.8298-21.237 1.057 8.7625 3.9411 46.657 8.625 59-3.1708 15.237 2.1604 58.306-0.71875 62.625s-3.8854 15.288-3.5938 20.156c3.5989-2.1594 4.28-5.0039 6.4688-3.5938 2.6022 5.1308-8.2831 10.578-8.3125 15.125 5.7583 0 18.961-6.8065 14.812-30.969-0.01472-9.693 12.716-62.592 5.0312-75.562 2.6504-8.4233-4.2905-60.148-9.3438-70.531-3.813-6.2493-24.213-3.814-31.688-10.812-0.71979-5.7583-3.5979-11.523-0.71875-17.281 6.4781-9.3572 6.7095-40.117-11.312-40.281-23.263 0.01308-20.358 30.705-13.88 40.062z" fill="#f0f0f0" fill-rule="evenodd" stroke="#000" stroke-linejoin="round" stroke-width="1.25" />
        <path d="m63.157 126.08c4.54 1.4726 13.896 0.05136 18.922-4.3365" fill="none" stroke="#000" stroke-width="1.25" />
        <path d="m104.21 120.22c4.1994 6.1936 12.468 4.0977 16.442 3.0674" fill="none" stroke="#000" stroke-width="1.25" />
        <path d="m92.565 3.7162c-7.1049-0.35525-14.096 2.3556-16.938 8.75-7.1049 16.104-6.1545 37.905-3.3125 44.062 1.7016-0.26178 5.233-0.78185 9.375-1.3125-0.20705-1.5756-0.60054-3.1698-1.4375-4.8438-3.239-4.6786-5.586-14.691-4.2154-23.535s31.549-8.7138 32.934 0.16623-0.29223 18.909-3.5313 23.588c-0.60026 1.2005-0.8285 2.3928-1 3.5938 3.5476 0.40157 6.3395 1.2563 7.6562 2.8125 3.3156-8.0522 3.8089-32.195-1.875-43.562-3.3156-5.9208-10.551-9.3635-17.656-9.7188z" fill="#808080" fill-rule="evenodd" stroke="#000" stroke-width="1.25" />
    </svg>
</script>
