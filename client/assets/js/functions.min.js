angular.module("functions", []).factory("functions", ["$rootScope", "$window", "$translate", "$sessionStorage", function ($rootScope, $window, $translate, $sessionStorage) { return { isNullOrEmpty: function (x) { var res = false; if (x === "" || x == undefined || x == null) { res = true } return res }, getDateDiff: function (x) { var today = new Date; var date1 = new Date(x); var diffDays = Math.abs(parseInt((today - date1) / (1e3 * 60 * 60 * 24))); return diffDays }, getTwoDateDiff: function (x, y) { var date1 = new Date(x); var date2 = new Date(y); var diffDays = Math.abs(parseInt((date2 - date1) / (1e3 * 60 * 60 * 24))); return diffDays }, correctDate: function (date) { var offset = date.getTimezoneOffset() / 60; var diff = offset < 0 ? $sessionStorage.config.serverhostgreenwichtimediff + Math.abs(offset) : $sessionStorage.config.serverhostgreenwichtimediff - offset; date.setHours(date.getHours() + diff); return date } } }]);