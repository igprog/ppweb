/*!
admin.js
(c) 2017 IG PROG, www.igprog.hr
*/
angular.module("app", []).controller("adminCtrl", ["$scope", "$http", "$rootScope", function (t, n, a) { n.get("./config/config.json").then(function (t) { a.config = t.data }), t.islogin = !1; var o = new Date; t.year = o.getFullYear(), t.toggleTpl = function (n) { t.tpl = n }, t.toggleTpl("login"), init = function () { t.user = { username: "", password: "" } }, init(), t.login = function (o) { n({ url: a.config.backend + "Admin.asmx/Login", method: "POST", data: { username: o.username, password: o.password } }).then(function (n) { t.islogin = JSON.parse(n.data.d), 1 == t.islogin ? t.toggleTpl("programPrehraneWeb") : alert("error login") }, function (n) { t.islogin = !1, alert(n.data.d) }) }, t.logout = function () { t.islogin = !1, t.toggleTpl("login"), init() } }]).controller("applicationCtrl", ["$scope", "$http", "$rootScope", function (t, n, a) { n({ url: a.config.backend + "Instal.asmx/Load", method: "POST", data: "" }).then(function (n) { t.d = JSON.parse(n.data.d) }, function (t) { alert(t.data.d) }) }]).controller("webAppCtrl", ["$scope", "$http", "$rootScope", function (t, n, a) { t.showDetails = !1; var o = function () { n({ url: a.config.backend + "Users.asmx/Load", method: "POST", data: "" }).then(function (n) { t.d = JSON.parse(n.data.d) }, function (t) { alert(t.data.d) }) }; o(); var e = function () { n({ url: a.config.backend + "Users.asmx/Total", method: "POST", data: "" }).then(function (n) { t.t = JSON.parse(n.data.d) }, function (t) { alert(t.data.d) }) }; e(), t.update = function (t) { n({ url: a.config.backend + "Users.asmx/Update", method: "POST", data: { x: t } }).then(function (t) { o(), e(), alert(t.data.d) }, function (t) { alert(t.data.d) }) }, t.remove = function (t) { 1 == confirm("Bri≈°i " + t.firstName + " " + t.lastName + "?") && d(t) }; var d = function (t) { n({ url: a.config.backend + "Users.asmx/Delete", method: "POST", data: { x: t } }).then(function (t) { o(), e(), alert(t.data.d) }, function (t) { alert(t.data.d) }) }; t.idxStart = 0, t.idxEnd = 10, t.setPage = function (n) { t.idxStart = 0 + n, t.idxEnd = 10 + n }, t.showAllPages = function () { t.idxStart = 0, t.idxEnd = t.d.length } }]).controller("ordersCtrl", ["$scope", "$http", "$rootScope", function (t, n, a) { n({ url: a.config.backend + "Orders.asmx/Load", method: "POST", data: "" }).then(function (n) { t.orders = JSON.parse(n.data.d) }, function (t) { alert(t.data.d) }) }]);