/*!
instal.js
(c) 2017 IG PROG, www.igprog.hr
*/
angular.module("app", []).controller("instalCtrl", ["$scope", "$http", function (a, n) { n.get("./config/config.json").then(function (n) { a.config = n.data, o() }); var t = location.search.split("&"); a.application = t[0].substring(5), a.version = t[1].substring(8); var i = new Date; a.year = i.getFullYear(); var o = function () { n({ url: a.config.backend + "Instal.asmx/Init", method: "POST", data: "" }).then(function (n) { a.d = JSON.parse(n.data.d), a.d.application = a.application, a.d.version = a.version, a.d.action = "demo" == a.version ? "instalacija" : "aktivacija", e() }, function (a) { alert(a.data.d) }) }, e = function () { n({ url: a.config.backend + "Instal.asmx/Save", method: "POST", data: { x: a.d } }).then(function (a) { }, function (a) { alert(a.data.d) }) } }]);